<footer class="footer">
  <span>&copy; {{ now.Year }} <a href="{{ "" | absURL }}">{{ .Site.Title }}</a></span>
  <span>&middot;</span>
  <span>Based on ThemeÔ∏è <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
  <button id="theme-switcher"></button>
</footer>
{{ $opts := dict "minify" "true" }}
{{ $themeSwitcherJS := resources.Get "js/theme-switcher.js" | js.Build $opts }}
<script>
  {{ $themeSwitcherJS.Content | safeJS }}
</script>
{{- if .IsPage }}
<script src="{{ "highlight.min.js" | absURL }}"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
{{- end }}
{{ if not (eq .Hugo.Environment "development") }}
<script>
// Check that service workers are supported
if ('serviceWorker' in navigator) {
  // Use the window load event to keep the page load performant
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js');
  });
}
</script>
{{ end }}
